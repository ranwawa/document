# 业务背景

3月起开始接触国际化项目,起初只是在现有系统上进行改造,毫无压力的完成了任务.

4月有一个目标,是要给企业用户提供callback能力.这是一个全新的功能且公司内部无可参照的用例.



因为产品,后端,前端对这个设计工作都不了解,相当于一切从0开始.大家心里都没底,从3月就开始讨论.

第一次: homing duncan braight进行了头脑风暴,输出了主要工作方式,就是从kafka消费数据然后通知到用户

第二次29号: homing duncan braigth ranwawa kevin 进行了讨论,在头脑基础上,对前后端数据流,业务流再细化了一下,但还是不知道具体开发要做什么

开完会之后有点慌张,不知道后端具体要干什么,所以私下又和braight聊了2次,完全搞懂了kafka的工作流,但对服务依赖,数据库设计这些也不懂

然后对业务上还是有担忧,根本不知道企业,分公司,用户和apikey以及callback之间的关系,问了duncan,结果还是没有完全搞懂

基于上面这些问题,输出了几个问题进行讨论

第3次30号: 弄了一个文档进行讨论,每个人在上面编辑

后面就对这个讨论的结果进行输出.

再然后就是定期开发

- 之后才发现四个数据中心的问题

- ci部署的问题
- lalaplat2部署的问题
- 生产屏蔽问题
- User_id查询性能问题

# 存在的问题:

过程中已知且已改的:

开会前必须要同步开会的内容到成员,让他们有时间思考,这样在会上才能听懂且表达清楚

过程中已知但未改的:

开会后形成了todo,但是很难按时落实.这个必须统一大家认可且可执行的工具来管理,先Jira统一管理 .下一步执行



今天看书软件设计这本书时才明白的:

之所以之前很慌,是因为自己不懂,并且也没有一套系统的方法去操作,所以对未知产生了恐惧

即使是开了几次会,形成并输出了一些看上去可执行的事项,但实际上自己心里还没有底.因为这些事项都是单一的,不成体系的,就像之前写代码一样,只知道写出来,但是不知道为什么这样写出来,如果出问题,根本不知道去哪儿排查

这次组织webhook就是这样.没有系统的方法指导设计,这样看到一点做一点,局限性太明显了



还好今天看了书,启发很大,虽然做的事情,靠着不停的开会,基本上没出大问题,也能符合书上的部分标准,但这只是运气和蛮劲达到的.并且确实在部署,性能和安全上还是有遗漏,只是问题没有暴露出来

并且部署和性能上,duncan和班爷在最近几天给补上了.要不然到近上线时还是会出问题,那就影响大了

# 对照标准方法进行分析

就用传统的瀑布法吧

- 业务
- 需求
- 设计
- 测试



## 首先来说业务

我所了解的业务就是企业webhook下单回调(并且有的成员连这个都不了解)

业务了解的太片面.

### 用户

具体的用户情况: 哪些国家,哪些城市,哪些业务

具体场景: 某个企业的效果演示

特例分析: 最大的用户的情况,存在的问题,用户的诉求

### 竞品

是否有同行,同行有哪些,他们有没有做,是怎么做的

### 自己

我们应该怎么做

为什么要这么做

有没有什么替代方案



-> 至少要输出一份用户流程图

-> 竞品方案

-> 用户诉求方案

-> 自己的方案以及备选方案

## 再说说需求

现在只做了功能上描述,其他的完全没有涉及到

需求就不仅仅是功能上的了

输出的文档要包涵下面这些内容

### 功能

大的,小的要进行拆分

前端后端要进行拆分

### 数据

入参出参

传输存储

### 性能

常规性能

突发性能

### 安全

是否存在风险

如何处理

### 保密

是否涉及

如何处理

## 然后说说设计

### 概要设计 

功能的

数据库的



这里就得有  流程图,数据库图,时序图

### 详细设计 

前端后端的设计了

规定到天放到jira上面

## 最后来谈谈测试

现在基本上没有涉及到测试,只是让测试开了个会.

还得让测试出用例,评审用例啊...环节遗漏了

下一次如何做

