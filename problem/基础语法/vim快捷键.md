# vim 快捷键

- 普通模式
- 动作
- 命令行模式
- 文本对象
- 快速跳转

## 普通模式

### CURSOR MOVING 光标移动

| 命令     | 英文全称 | 含义               |
| -------- | -------- | ------------------ |
| h        |          | 左一字符           |
| j        |          | 下一行             |
| gj       |          | 下一屏幕行         |
| k        |          | 上一行             |
| k        |          | 上一屏幕行         |
| l        |          | 右一字符           |
| ^        |          | 首个非空字符       |
| g^       |          | 屏幕行首个非空字符 |
| 0        |          | 行首               |
| g0       |          | 屏幕行行首         |
| $        |          | 行尾               |
| g$       |          | 屏幕行行尾         |
| G        | go       | 文件尾             |
| {count}G | go       | 指定行             |
| gg       |          | 文件首             |
| \<C-o>   |          | 后一次记录         |
| \<C-i>   |          | 前一次记录         |
| n        | next     | 下一个结果         |
| N        | Next     | 上一个结果         |
| ;        |          | 下一个结果         |
| ,        |          | 上一个结果         |
|          |          |

### TEXT EDIT 文本编辑

| 命令 | 英文全称 | 含义         |
| ---- | -------- | ------------ |
| x    |          | 删除当前字符 |
| i    | insert   | 前面插入     |
| I    | Insert   | 行首插入     |
| a    | append   | 后面插入     |
| A    | Append   | 行尾插入     |
|      |          |              |
|      |          |              |
|      |          |              |
|      |          |              |

### COMMAND 命令

| 命令        | 英文全称 | 含义                     |
| ----------- | -------- | ------------------------ |
| d{motion}   | delete   | 删除                     |
| dd          | delete   | 删除当前行               |
| p           | put      | 放置                     |
| u           | undo     | 撤消上次改动             |
| U           | Undo     | 撤消所有改动(相对于行)   |
| \<C-r>      | redo     | 撤消`undo`               |
| r           | replace  | 替换单个字符             |
| R           | Replace  | 替换多个字符             |
| c{motion}   | change   | 修改(进入插入模式)       |
| cc          | change   | 修改当前行(进入插入模式) |
| \/{pattern} |          | 全文搜索                 |
| \?{pattern} |          | 反向全文搜索             |
| f{char}     | find     | 行查找                   |
| F{char}     | find     | 反向行查找               |
| t{char}     | till     | 行查找,排除当前字符      |
| T{char}     | till     | 反向行查找,排队当前字符  |
| %           |          |                          |
| o           | open     | 向下打开行(插入)         |
| O           | Open     | 向上打开行               |
| y{motion}   | yank     | 猛拉文字(复制)           |
| yy          |          | 复制整行                 |
|             |          |                          |
|             |          |                          |
|             |          |                          |
|             |          |                          |

## 动作

| 命令 | 英文全称 | 含义       |
| ---- | -------- | ---------- |
| w    | word     | 下个单词前 |
| $    |          | 行尾       |
| 0    |          | 行首       |
| e    | end      | 词尾       |
| b    | back     | 词首       |
|      |          |            |
|      |          |            |

## 命令行模式

### COMMAND 命令

| 命令       | 英文全称   | 含义               |
| ---------- | ---------- | ------------------ |
| :s/old/new | substitute | 替换               |
| :! ls      |            | 外部命令(vscode x) |
|            |            |                    |
|            |            |                    |
|            |            |                    |
|            |            |                    |
|            |            |                    |
|            |            |                    |
|            |            |                    |
|            |            |                    |

### 参数

| 命令         | 英文全称                  | 含义             |
| ------------ | ------------------------- | ---------------- |
| :s/old/new/c | substitute global confirm | 提示替换         |
| :s/old/new/g | substitute global         | 替换整行         |
| :help        |                           | 帮助文档         |
| : \<C-d>     | display                   | 显示所有命令     |
| : tab        |                           | 显示下一个命令   |
| :pwd         | print working directory   | 打印当前工作目录 |
|              |                           |                  |
|              |                           |                  |
|              |                           |                  |
|              |                           |                  |
|              |                           |                  |

### 范围

| 命令            | 英文全称 | 含义       |
| --------------- | -------- | ---------- |
| :#,#s/old/new/g |          | 替换指定行 |
| :%s/old/new/g   |          |            |
| :'\<,'>         |          | 选中行     |
|                 |          |            |
|                 |          |            |
|                 |          |            |
|                 |          |            |
|                 |          |            |

### 设置参数

通过`set`命令执行

| 命令  | 英文全称            | 含义                            | 示例             |
| ----- | ------------------- | ------------------------------- | ---------------- |
| ic    | ignore case         | 忽略大小写                      |
| noic  | no ignore case      | 大小写敏感                      |
| is    | incsearch           | 没搞懂,显示部分配对             |
| nois  | no incsearch        |                                 |
| hls   | highlight search    | 高亮结果                        |
| nohls | no highlight search | 禁止高亮                        |
| path  |                     | 指定目录,用于:find 命令打开文件 | :set path+=./src |
|       |                     |                                 |
|       |                     |                                 |
|       |                     |                                 |

### SESSION 会话管理

一个 vim 实例就是一个会话

| 命令 | 英文全称   | 含义               |
| ---- | ---------- | ------------------ |
| :q   | quit       | 退出               |
| :q!  | quit       | 退出并丢弃改动     |
| :qa! | quit all   | 退出并丢弃所有改动 |
| :wq  | write quit | 保存退出           |
|      |            |
|      |            |
|      |            |

### FILE 文件管理

文件是硬盘上的资源

| 命令   | 英文全称  | 含义                     | 示例          |
| ------ | --------- | ------------------------ | ------------- | --- |
| :w     | write     | 缓冲区写到文件(保存)     |
| :wa    | write all | 所有缓冲区写到文件(保存) |
| \<C-g> |           | 查看当前文件状态         |
| :r     | retrieve  | 查询并合并               |
| :e     | edit      | 编辑文件(打开)           |
| :e!    | edit      | 编辑文件(打开)并回滚改动 |
| :find  |           | 打开指定文件             | :find app.vue | :   |
|        |           |                          |

#### netrw

更多的命令需要看 netrw 的文档

| 命令 | 英文全称 | 含义                              | 示例 |
| ---- | -------- | --------------------------------- | ---- |
| -    |          | 返回上级目录                      |      |
| :e.  | :edit .  | 打开 netrw,显示当前工作目录       |      |
| :E.  | :explore | 打开 netrw,显示活动缓冲区所在目录 |      |

### BUFFER 缓冲区

缓冲区是文件在内存中的副本

缓冲区列表是 vim 的功能

| 命令             | 英文全称        | 含义                     |
| ---------------- | --------------- | ------------------------ |
| :ls              |                 | 查询缓冲区列表           |
| CTRL-^           |                 | 移动到轮换文件           |
| :bn              | buffer next     | 正向移动                 |
| :bp              | buffer previous | 反向移动                 |
| :bf              | buffer first    | 移动到开头               |
| :bl              | buffer last     | 移动到结尾               |
| :b N             | buffer          | 移动到编号               |
| :b {buffer name} | buffer          | 移动到缓冲区名           |
| :bd N1 N2 ...    | buffer delete   | 删除缓冲区               |
| :N1,N2bd         | buffer delete   | 删除缓冲区               |
| :bufdo           | buffer do       | 所有缓冲区上执行 Ex 命令 |
|                  |                 |                          |
|                  |                 |                          |
|                  |                 |                          |

#### 缓冲区列表符号标志

| 命令 | 英文全称 | 含义                 |
| ---- | -------- | -------------------- |
| %    |          | 当前窗口可见的缓冲区 |
| #    |          | 轮换文件             |
| a    | activity | 激活的缓冲区         |
| +    |          | 已改变的缓冲区       |
| h    | hidden   | 隐藏的缓冲区         |
|      |          |                      |
|      |          |                      |
|      |          |                      |
|      |          |                      |

#### 参数列表

参数列表是 vi 的功能

| 命令                    | 英文全称 | 含义         |
| ----------------------- | -------- | ------------ |
| :args                   |          | 查看参数列表 |
| :args {glob1 glob2 ...} |          | 设置参数列表 |
|                         |          |              |
|                         |          |              |

#### 参数列表符号标志

| 命令   | 英文全称 | 含义         |
| ------ | -------- | ------------ |
| \[]    |          | 激活的缓冲区 |
| \[New] |          | 新文件       |
|        |          |              |
|        |          |              |

### WINDOW 窗口

窗口是缓冲区的显示区域

| 命令              | 英文全称        | 含义             |
| ----------------- | --------------- | ---------------- |
| \<C-w>s           | window split    | 水平切割当前文件 |
| \<C-w>v           | window vertical | 垂直分割当前文件 |
| :sp {file}        | split           | 水平分割指定文件 |
| :vsp {file}       | vertical split  | 垂直分割指定文件 |
| \<C-w>w           |                 | 循环切换窗       |
| \<C-w>h           |                 | 激活左侧窗口     |
| \<C-w>j           |                 | 激活下侧窗口     |
| \<C-w>k           |                 | 激活上侧窗口     |
| \<C-w>l           |                 | 激活右侧窗口     |
| :winc {w,h,j,k,l} | wincmd          | 命令模式切换     |
| :clo              | close           | 关闭活动窗口     |
| :on               | only            |                  |
|                   |                 |                  |
|                   |                 |                  |

### 路径参数

| 命令 | 英文全称 | 含义            |
| ---- | -------- | --------------- |
| %    | :e %     | 完整路径        |
| %:h  | :e %:h   | 完整目录,同 pwd |
|      |          |                 |
|      |          |                 |
|      |          |                 |
|      |          |                 |
|      |          |                 |
|      |          |                 |

## 文本对象

| 命令 | 英文全称 | 含义       | 示例 |
| ---- | -------- | ---------- | ---- |
| i    | inside   | 分隔符内部 | i)   |
| a    | around   | 包含分隔符 | a}   |
|      |          |            |
|      |          |            |
|      |          |            |

### 文本块

| 命令 | 英文全称  | 含义 | 示例 |
| ---- | --------- | ---- | ---- |
| w    | word      | 单词 |
| s    | statement | 句子 |
| p    | paragraph | 段落 |
|      |           |      |

### 分隔符

| 命令 | 英文全称       | 含义   | 示例             |
| ---- | -------------- | ------ | ---------------- |
| b    | parentheses    | 圆括号 | (...)            |
| B    | braces         | 花括号 | {...}            |
| ]    | brackets       | 方括号 | \[...]           |
| >    | angle brackets | 尖括号 | <...>            |
| '    | single quotes  | 单引号 | '...'            |
| "    | double quotes  | 双引号 | "..."            |
| \`   | backticks      | 反引号 | \`...`           |
| t    | tag            | 标签   | \<div>...\</div> |
|      |                |        |                  |
|      |                |        |                  |

## 快速跳转

### 跳转列表

| 命令           | 英文全称 | 含义               | 示例 |
| -------------- | -------- | ------------------ | ---- |
| :jumps         |          | 跳转列表           |      |
| `{mark}        |          | 跳转到标记位置     |      |
| ``             |          | 上次跳转的起点     |      |
| `.             |          | 上次修改的位置     |      |
| `<             |          | 上次高亮选区的起点 |      |
| `>             |          | 上次高亮选区的终点 |      |
| `\[            |          | 上次修改的起点     |      |
| `]             |          | 上次修改的起点     |      |
| \[count]G      | go       | 指定行号           |      |
| \/s\|\/?\|n\|N |          | 配对的模式         |      |
| %              |          | 配对的符号         |      |
| (              |          | 上一句             |      |
| )              |          | 下一句             |      |
| {              |          | 上一段             |      |
| }              |          | 下一段             |      |
| H              | head     | 屏幕头             |      |
| M              | middle   | 屏幕中             |      |
| L              | last     | 屏幕尾             |      |
| gf             | go file  | 光标下路径源文件   |      |
| \<C-]>         |          | 函数声明处         |      |
| \<C-o>         |          | 上一个跳转位       |      |
| \<C-i>         |          | 下一个跳转位       |      |
|                |          |                    |      |
|                |          |                    |      |

### 改变列表

| 命令 | 英文全称  | 含义                     | 示例 |
| ---- | --------- | ------------------------ | ---- |
| g;   |           | 下一个改变位             |      |
| g,   |           | 上一个改变位             |      |
| gi   | go insert | 上一个改变位进入插入模式 |      |
|      |           |                          |      |
|      |           |                          |      |
|      |           |                          |      |

### MARK 位置标记

| 命令   | 英文全称 | 含义           | 示例 |
| ------ | -------- | -------------- | ---- |
| m{a-z} | mark     | 标记当前缓冲区 | mm   |
| m{A-Z} | mark     | 标记全局缓冲区 | mM   |
|        |          |                |      |
|        |          |                |      |

### SPELL 拼写检查

| 命令           | 英文全称 | 含义                 | 示例 |
| -------------- | -------- | -------------------- | ---- |
| \]s            |          | 下一个错误           |      |
| \[s            |          | 上一个错误           |      |
| \[N]z=         |          | 拼写建议             |
| zg             |          | 添加单词到拼写文件   |
| zw             |          | 删除拼写文件中的单词 |
| \<C-x\>\</C-s> |          | 拼写建议,插入模式    |
| \<C-n>         | next     | 下一个选项           |
| \<C-p>         | previous | 上一个选项           |
| \<C-e>         | exit     | 退出提示,还原修      |
|                |          |                      |
|                |          |                      |
