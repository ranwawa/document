# 第 4 章 重定向和管道

- [4.1 重定向](#41-重定向)
- [4.2 here document](#42-here-document)
- [4.3 here string](#43-here-string)
- [4.4 管道](#44-管道)
- [4.5 命令分组](#45-命令分组)

## 4.1 重定向

|              | 描述符 | 默认设备 |
| ------------ | ------ | -------- |
| 标准输入     | 0      | 键盘     |
| 标准输出     | 1      | 屏幕     |
| 标准错误输出 | 2      | 屏幕     |

| 命令              | 说明                                           |
| ----------------- | ---------------------------------------------- |
| echo xxx > file   | 标准输出重定向到 file(覆盖文件内容)            |
| echo xxx 1> file  | 同上                                           |
| echo xxx 2> file  | 标准错误输出重定向到 file                      |
| echo xxx &> file  | 标准输出和标准错误输出重定向到 file            |
| echo xxx >\| file | 忽略 noclobber 设置,即使 file 存在也继续重定向 |
| echo xxx >> file  | 标准输出重定向到 file(文件后追加)              |
| ...               | >>的其他用法同>一样                            |
| tr b B < file     | file 重定向到标准输入                          |

## 4.2 here document

和 cat 配合,用于输出多行文本

```shell
cat << EOF
多行内容
EOF
```

在开始标记加上引号,即可禁用参数展开

```shell
cat << 'EOF'
多行内容
EOF
```

## 4.3 here string

重定向标准输入只能以文件为参数,这就可以直接输入字符串

```shell
tr b B <<< abc
```

## 4.4 管道

特点

- 可以无数个
- 可以直接换行不用加\
- 标准错误输出需要使用|&往下传

```shell
ls |
grep 第 |&
wc -l
```

## 4.5 命令分组

将多个命令同时执行,并将结果输出到标准输出

```shell
{
	date +%Y-%d
	echo rww
	ls
}
```

用小括号可以实现同样的功能,且对空格要求没这么严格

```shell
(
	date +%Y-%d
	echo rww
	ls
)
```
